#pragma once
#include <d3d12.h>
#include <dxgi1_6.h>
#include <wrl.h>

class PSO;
class DirectXCommon;
class SpriteCommon {
public:
	/////////////////////////////////////////////////////////////////////////////////////
	///			エイリアステンプレート
	/////////////////////////////////////////////////////////////////////////////////////

	//エイリアステンプレート
	template <class T> using ComPtr = Microsoft::WRL::ComPtr<T>;

public:

	/////////////////////////////////////////////////////////////////////////////////////
	///			publicメンバ関数
	/////////////////////////////////////////////////////////////////////////////////////


	/// <summary>
	/// コンストラクタ
	/// </summary>
	SpriteCommon() = default;

	/// <summary>
	/// デストラクタ
	/// </summary>
	~SpriteCommon();

	/// <summary>
	/// 初期化
	/// </summary>
	void Initialize(DirectXCommon* directXCommon);

	/// <summary>
	/// 共通描画設定
	/// </summary>
	void PreDraw();


	
public:

	/////////////////////////////////////////////////////////////////////////////////////
	///			getter
	/////////////////////////////////////////////////////////////////////////////////////

	DirectXCommon* GetDirectXCommon() const { return dxCommon_; }

public:

	/////////////////////////////////////////////////////////////////////////////////////
	///			setter
	/////////////////////////////////////////////////////////////////////////////////////

	

	void SetDirectXCommon(DirectXCommon* dxCommon) { dxCommon_ = dxCommon; }


private:
	/////////////////////////////////////////////////////////////////////////////////////
	///			privateメンバ関数
	/////////////////////////////////////////////////////////////////////////////////////

	void CreateRootSignature();

	void CreatePSO();

private:

	/////////////////////////////////////////////////////////////////////////////////////
	///			privateメンバ変数
	/////////////////////////////////////////////////////////////////////////////////////

	//DirectXCommon
	DirectXCommon* dxCommon_ = nullptr;

	//RootSignature
	ComPtr<ID3D12RootSignature> rootSignature_ = nullptr;

	//PipelineStateObject
	PSO* pso_ = nullptr;

};

